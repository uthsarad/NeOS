# ⚡ Bolt: Aggressive ZRAM Tuning
# Since we use ZRAM for swap (compressed RAM), we want the kernel to swap aggressively
# rather than dropping file caches. This improves responsiveness under memory pressure.
# Set to 100 (max for standard kernel) to prioritize swap usage.
vm.swappiness = 100

# Default is 3 (read 8 pages). ZRAM is random access RAM, so read 1 page (2^0).
# Reduces read amplification and latency.
vm.page-cluster = 0

# ⚡ Bolt: Prefer Cache Retention
# Default is 100. Lowering to 50 causes the kernel to prefer retaining dentry and inode caches.
# This improves filesystem responsiveness (e.g., listing directories, launching apps) at the cost
# of slightly more memory usage for metadata, which is worth it for desktop "snap".
vm.vfs_cache_pressure = 50

# ⚡ Bolt: Gaming & Application Compatibility
# Increase memory map limit to prevent crashes in memory-intensive games (Steam/Proton/Wine).
# Valve recommends 2147483642 for SteamOS. Default is often too low (65530).
vm.max_map_count = 2147483642

# ⚡ Bolt: Networking Performance
# Use CAKE (Common Applications Kept Enhanced) queue discipline to combat bufferbloat.
net.core.default_qdisc = cake

# Use BBR (Bottleneck Bandwidth and RTT) congestion control for higher throughput and lower latency.
net.ipv4.tcp_congestion_control = bbr

# ⚡ Bolt: Disk I/O Latency Tuning
# Reduce dirty memory ratios to force more frequent, smaller writes to disk.
# This prevents massive write-back bursts that freeze the system on slow storage (USB/budget SSD).
vm.dirty_ratio = 10
vm.dirty_background_ratio = 5
